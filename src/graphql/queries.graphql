fragment FullSEO on SeoField {
  title
  description
  image {
    url
  }
  twitterCard
}

fragment FullMarket on MarketRecord {
  title
  lead
  slug
  tile {
    url
  }
  seo {
    ...FullSEO
  }
}

fragment FullTheme on ThemeRecord {
  title
  lead
  slug
  tile {
    url
  }
  seo {
    ...FullSEO
  }
}

fragment FullBlogPost on BlogPostRecord {
  title
  lead
  slug
  image {
    url
  }
  markets {
    title
  }
  themes {
    title
  }
  _firstPublishedAt
}

query HomePage($locale: SiteLocale!) {
  homePage(locale: $locale) {
    title
    lead
    seo {
      ...FullSEO
    }
  }

  allMarkets(locale: $locale) {
    ...FullMarket
  }

  allThemes(locale: $locale) {
    ...FullTheme
  }

  allBlogPosts(locale: $locale, first: 3) {
    ...FullBlogPost
  }
}

query MarketPage($locale: SiteLocale!, $slug: String!) {
  market(locale: $locale, filter: { slug: { eq: $slug } }) {
    ...FullMarket

    _allSlugLocales {
      locale
      value
    }
  }

  allMarkets(locale: $locale) {
    ...FullMarket
  }

  allBlogPosts(locale: $locale, first: 3) {
    ...FullBlogPost
  }
}

query AllMarketsSlugLocales {
  allMarkets {
    _allSlugLocales {
      locale
      value
    }
  }
}

query ThemePage($locale: SiteLocale!, $slug: String!) {
  theme(locale: $locale, filter: { slug: { eq: $slug } }) {
    ...FullTheme

    _allSlugLocales {
      locale
      value
    }
  }

  allThemes(locale: $locale) {
    ...FullTheme
  }

  allBlogPosts(locale: $locale, first: 3) {
    ...FullBlogPost
  }
}

query AllThemesSlugLocales {
  allThemes {
    _allSlugLocales {
      locale
      value
    }
  }
}

query BlogPage($locale: SiteLocale!) {
  blogPage(locale: $locale) {
    title
    lead
    seo {
      ...FullSEO
    }
  }

  allMarkets(locale: $locale) {
    ...FullMarket
  }

  allBlogPosts(locale: $locale) {
    ...FullBlogPost
  }
}

query AboutPage($locale: SiteLocale!) {
  aboutPage(locale: $locale) {
    title
    lead
  }

  allMarkets(locale: $locale) {
    ...FullMarket
  }
}
